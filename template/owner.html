<h2>Información del propietario</h2>

<table class="table table-striped">
    <tr>
        <th class="col-sm-3">Nombre</th>
        <td><b>{{vm.owner.firstName}} {{vm.owner.lastName}}</b></td>
    </tr>
    <tr>
        <th>Dirección</th>
        <td>{{vm.owner.address}}</td>
    </tr>
    <tr>
        <th>Ciudad</th>
        <td>{{vm.owner.city}}</td>
    </tr>
    <tr>
        <th>Teléfono</th>
        <td>{{vm.owner.telephone}}</td>
    </tr>
    <tr>
        <td>
            <a class="btn btn-default" >Editar - NIMP</a>
        </td>
        <td>
            <a class="btn btn-default" ui-sref=".petCreate({ownerId: vm.owner.id})">Nueva mascota</a>
        </td>
    </tr>
</table>

<h2>Mascotas y visitas</h2>

<table class="table table-striped">
    <tr ng-repeat="pet in vm.owner.pets track by pet.id">
        <td valign="top">
            <dl class="dl-horizontal">
                <dt>Nombre</dt>
                <dd><a ui-sref=".petEdit({ownerId: vm.owner.id, petId: pet.id})">{{pet.name}}</a></dd>
                <dt>Cumpleaños</dt>
                <dd>{{pet.birthDate | date:'dd MMM'}}</dd>
                <dt>Tipo</dt>
                <dd>{{pet.type.name}}</dd>
            </dl>
        </td>
        <td valign="top">
            <table class="table-condensed">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Descripción</th>
                </tr>
                </thead>
                <tr ng-repeat="visit in pet.visits track by visit.id">
                    <td>{{visit.date | date:'dd/MM/yyyy'}}</td>
                    <td>{{visit.description}}</td>
                </tr>
                <tr>
                    <td>
                        <a ui-sref="petEdit({ownerId: vm.owner.id, petId: pet.id})">Editar mascota</a>
                    </td>
                    <td>
                        <a ui-sref="visits({ownerId: vm.owner.id, petId: pet.id})">Añadir visita</a>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<div ui-view></div>